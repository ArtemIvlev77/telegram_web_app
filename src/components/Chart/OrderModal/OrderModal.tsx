import React, {FC, useEffect, useRef} from 'react';
import chatIcon from '../../../assets/chatIcon.svg'
import completeIcon from '../../../assets/completeIcon.svg';
import archiveIcon from '../../../assets/archive.svg';

interface OrderModalProps {
	isOpen: boolean;
	closeHandler: (isOpen: boolean) => void;
	status: string;
}

const OrderModal: FC<OrderModalProps> = ({isOpen, closeHandler, status}) => {
	const modalRef = useRef<HTMLDivElement | null>(null)
	const outsideClickHandler = (e: any) => {
		if (modalRef.current && !modalRef.current.contains(e.target)) {
			closeHandler(false);
		}
	}

	useEffect(() => {
		if (isOpen) {
			window.addEventListener('click', outsideClickHandler)
		}
		return () => {
			window.removeEventListener('click', outsideClickHandler)
		}
	}, [isOpen])

	return (
		<div ref={modalRef}
		     className={`transition-all absolute z-10 top-0 right-0 w-[200px] bg-tg-secondary-bg shadow rounded-md ${isOpen ? 'fixed' :'hidden'}`}>
			<div
				className="w-full flex items-center justify-items-stretch gap-3 py-4 px-6 hover:bg-sky-500 cursor-pointer text-tg-text fill-tg-text">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="current" xmlns="http://www.w3.org/2000/svg">
					<path fillRule="evenodd" clipRule="evenodd"
					      d="M2.75 11.0282C2.75 7.06066 6.2353 3.74994 10.6556 3.74994C13.5094 3.74994 15.9913 5.13983 17.3781 7.19716C17.6096 7.54062 18.0758 7.63136 18.4192 7.39984C18.7627 7.16831 18.8534 6.70219 18.6219 6.35872C16.9499 3.87839 13.9968 2.24994 10.6556 2.24994C5.51515 2.24994 1.25 6.12796 1.25 11.0282C1.25 12.3521 1.5647 13.608 2.12655 14.733L2.79752 14.3979L2.12655 14.733C2.56211 15.6051 2.76342 16.0117 2.58587 16.5848L3.29903 16.8057L2.58586 16.5848C2.55127 16.6964 2.49917 16.8012 2.41857 16.9632C2.39342 17.0138 2.36551 17.0699 2.33448 17.1336C2.22524 17.3577 2.07283 17.6878 2.03942 18.065C1.94381 19.1448 2.94427 19.8786 3.90594 19.73C4.46618 19.6434 4.94909 19.4119 5.29519 19.2461L5.2952 19.2461C5.37891 19.2059 5.45462 19.1696 5.52148 19.1402C5.88019 18.9821 6.17621 18.9005 6.62281 18.998C6.71432 19.0179 7.02617 19.12 7.80217 19.3775C8.18012 19.5029 8.56981 19.6006 8.97745 19.6709C9.38564 19.7413 9.77361 19.4675 9.84401 19.0593C9.9144 18.6511 9.64057 18.2631 9.23238 18.1927C8.89727 18.1349 8.58032 18.0552 8.27453 17.9538L8.15621 17.9145L8.15612 17.9145C7.51786 17.7026 7.12475 17.5722 6.94249 17.5324L6.94248 17.5324C6.07524 17.3432 5.44182 17.536 4.91646 17.7676C4.77395 17.8304 4.65078 17.8888 4.53868 17.9419L4.53864 17.9419L4.53863 17.9419C4.22535 18.0904 3.99839 18.1979 3.67685 18.2476C3.61847 18.2566 3.57441 18.238 3.54995 18.2172C3.53808 18.207 3.53412 18.1992 3.53342 18.1976C3.53337 18.1975 3.53344 18.1988 3.53358 18.1973C3.54053 18.1188 3.5782 18.0055 3.68286 17.7907C3.69736 17.761 3.71424 17.7273 3.73272 17.6905C3.8205 17.5156 3.94414 17.2692 4.01867 17.0287C4.37963 15.8636 3.91088 14.9375 3.54377 14.2122L3.54376 14.2121C3.51806 14.1614 3.49287 14.1116 3.46849 14.0628C3.00682 13.1384 2.75 12.1112 2.75 11.0282ZM16.5 9.24994C13.0482 9.24994 10.25 12.0482 10.25 15.4999C10.25 18.9517 13.0482 21.7499 16.5 21.7499C17.2013 21.7499 17.8255 21.6495 18.4157 21.4384C18.653 21.3535 18.8258 21.2917 18.9508 21.2483C19.0132 21.2267 19.0595 21.211 19.0935 21.2001C19.1179 21.1923 19.1302 21.1888 19.1338 21.1877C19.1347 21.1875 19.135 21.1874 19.135 21.1874C19.3243 21.1433 19.4382 21.1721 19.6326 21.2645C19.6637 21.2793 19.7025 21.2995 19.7482 21.3233C19.9629 21.435 20.3282 21.625 20.7384 21.6934C21.5738 21.8326 22.317 21.1487 22.2477 20.3046C22.2234 20.0091 22.1131 19.755 22.0425 19.5988C22.0194 19.5478 21.9999 19.5054 21.9832 19.4691C21.9354 19.3654 21.9106 19.3116 21.8933 19.2515C21.8044 18.9421 21.8913 18.7334 22.1738 18.1237C22.5437 17.325 22.75 16.4356 22.75 15.4999C22.75 12.0482 19.9518 9.24994 16.5 9.24994ZM11.75 15.4999C11.75 12.8766 13.8766 10.7499 16.5 10.7499C19.1234 10.7499 21.25 12.8766 21.25 15.4999C21.25 16.2132 21.0931 16.8879 20.8127 17.4932C20.7969 17.5274 20.7802 17.5627 20.7631 17.5992C20.53 18.0941 20.2008 18.793 20.4517 19.6658C20.4936 19.8117 20.5583 19.9617 20.6107 20.0763L20.5551 20.048C20.4802 20.0097 20.3908 19.9641 20.2765 19.9097C19.9099 19.7355 19.4334 19.5763 18.7893 19.7278C18.656 19.7591 18.3918 19.8537 18.0097 19.9905L18.0095 19.9906L17.9104 20.026C17.5026 20.1719 17.052 20.2499 16.5 20.2499C13.8766 20.2499 11.75 18.1233 11.75 15.4999Z"
					      fill="current"/>
				</svg>

				<span>Перейти в чат</span>
			</div>
			<div className="w-full flex items-center justify-items-stretch gap-3  py-4 px-6 hover:bg-sky-500 cursor-pointer text-tg-text fill-tg-text">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="current" xmlns="http://www.w3.org/2000/svg">
					<path fillRule="evenodd" clipRule="evenodd"
					      d="M2.75 11.0282C2.75 7.06066 6.2353 3.74994 10.6556 3.74994C13.5094 3.74994 15.9913 5.13983 17.3781 7.19716C17.6096 7.54062 18.0758 7.63136 18.4192 7.39984C18.7627 7.16831 18.8534 6.70219 18.6219 6.35872C16.9499 3.87839 13.9968 2.24994 10.6556 2.24994C5.51515 2.24994 1.25 6.12796 1.25 11.0282C1.25 12.3521 1.5647 13.608 2.12655 14.733L2.79752 14.3979L2.12655 14.733C2.56211 15.6051 2.76342 16.0117 2.58587 16.5848L3.29903 16.8057L2.58586 16.5848C2.55127 16.6964 2.49917 16.8012 2.41857 16.9632C2.39342 17.0138 2.36551 17.0699 2.33448 17.1336C2.22524 17.3577 2.07283 17.6878 2.03942 18.065C1.94381 19.1448 2.94427 19.8786 3.90594 19.73C4.46618 19.6434 4.94909 19.4119 5.29519 19.2461L5.2952 19.2461C5.37891 19.2059 5.45462 19.1696 5.52148 19.1402C5.88019 18.9821 6.17621 18.9005 6.62281 18.998C6.71432 19.0179 7.02617 19.12 7.80217 19.3775C8.18012 19.5029 8.56981 19.6006 8.97745 19.6709C9.38564 19.7413 9.77361 19.4675 9.84401 19.0593C9.9144 18.6511 9.64057 18.2631 9.23238 18.1927C8.89727 18.1349 8.58032 18.0552 8.27453 17.9538L8.15621 17.9145L8.15612 17.9145C7.51786 17.7026 7.12475 17.5722 6.94249 17.5324L6.94248 17.5324C6.07524 17.3432 5.44182 17.536 4.91646 17.7676C4.77395 17.8304 4.65078 17.8888 4.53868 17.9419L4.53864 17.9419L4.53863 17.9419C4.22535 18.0904 3.99839 18.1979 3.67685 18.2476C3.61847 18.2566 3.57441 18.238 3.54995 18.2172C3.53808 18.207 3.53412 18.1992 3.53342 18.1976C3.53337 18.1975 3.53344 18.1988 3.53358 18.1973C3.54053 18.1188 3.5782 18.0055 3.68286 17.7907C3.69736 17.761 3.71424 17.7273 3.73272 17.6905C3.8205 17.5156 3.94414 17.2692 4.01867 17.0287C4.37963 15.8636 3.91088 14.9375 3.54377 14.2122L3.54376 14.2121C3.51806 14.1614 3.49287 14.1116 3.46849 14.0628C3.00682 13.1384 2.75 12.1112 2.75 11.0282ZM16.5 9.24994C13.0482 9.24994 10.25 12.0482 10.25 15.4999C10.25 18.9517 13.0482 21.7499 16.5 21.7499C17.2013 21.7499 17.8255 21.6495 18.4157 21.4384C18.653 21.3535 18.8258 21.2917 18.9508 21.2483C19.0132 21.2267 19.0595 21.211 19.0935 21.2001C19.1179 21.1923 19.1302 21.1888 19.1338 21.1877C19.1347 21.1875 19.135 21.1874 19.135 21.1874C19.3243 21.1433 19.4382 21.1721 19.6326 21.2645C19.6637 21.2793 19.7025 21.2995 19.7482 21.3233C19.9629 21.435 20.3282 21.625 20.7384 21.6934C21.5738 21.8326 22.317 21.1487 22.2477 20.3046C22.2234 20.0091 22.1131 19.755 22.0425 19.5988C22.0194 19.5478 21.9999 19.5054 21.9832 19.4691C21.9354 19.3654 21.9106 19.3116 21.8933 19.2515C21.8044 18.9421 21.8913 18.7334 22.1738 18.1237C22.5437 17.325 22.75 16.4356 22.75 15.4999C22.75 12.0482 19.9518 9.24994 16.5 9.24994ZM11.75 15.4999C11.75 12.8766 13.8766 10.7499 16.5 10.7499C19.1234 10.7499 21.25 12.8766 21.25 15.4999C21.25 16.2132 21.0931 16.8879 20.8127 17.4932C20.7969 17.5274 20.7802 17.5627 20.7631 17.5992C20.53 18.0941 20.2008 18.793 20.4517 19.6658C20.4936 19.8117 20.5583 19.9617 20.6107 20.0763L20.5551 20.048C20.4802 20.0097 20.3908 19.9641 20.2765 19.9097C19.9099 19.7355 19.4334 19.5763 18.7893 19.7278C18.656 19.7591 18.3918 19.8537 18.0097 19.9905L18.0095 19.9906L17.9104 20.026C17.5026 20.1719 17.052 20.2499 16.5 20.2499C13.8766 20.2499 11.75 18.1233 11.75 15.4999Z"
					      fill="current"/>
				</svg>
				<span>Завершить</span>
			</div>
			<div className="w-full flex items-center justify-items-stretch gap-3  py-4 px-6 hover:bg-sky-500 cursor-pointer text-tg-text fill-tg-text">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="current" xmlns="http://www.w3.org/2000/svg">
					<path fillRule="evenodd" clipRule="evenodd"
					      d="M2.75 11.0282C2.75 7.06066 6.2353 3.74994 10.6556 3.74994C13.5094 3.74994 15.9913 5.13983 17.3781 7.19716C17.6096 7.54062 18.0758 7.63136 18.4192 7.39984C18.7627 7.16831 18.8534 6.70219 18.6219 6.35872C16.9499 3.87839 13.9968 2.24994 10.6556 2.24994C5.51515 2.24994 1.25 6.12796 1.25 11.0282C1.25 12.3521 1.5647 13.608 2.12655 14.733L2.79752 14.3979L2.12655 14.733C2.56211 15.6051 2.76342 16.0117 2.58587 16.5848L3.29903 16.8057L2.58586 16.5848C2.55127 16.6964 2.49917 16.8012 2.41857 16.9632C2.39342 17.0138 2.36551 17.0699 2.33448 17.1336C2.22524 17.3577 2.07283 17.6878 2.03942 18.065C1.94381 19.1448 2.94427 19.8786 3.90594 19.73C4.46618 19.6434 4.94909 19.4119 5.29519 19.2461L5.2952 19.2461C5.37891 19.2059 5.45462 19.1696 5.52148 19.1402C5.88019 18.9821 6.17621 18.9005 6.62281 18.998C6.71432 19.0179 7.02617 19.12 7.80217 19.3775C8.18012 19.5029 8.56981 19.6006 8.97745 19.6709C9.38564 19.7413 9.77361 19.4675 9.84401 19.0593C9.9144 18.6511 9.64057 18.2631 9.23238 18.1927C8.89727 18.1349 8.58032 18.0552 8.27453 17.9538L8.15621 17.9145L8.15612 17.9145C7.51786 17.7026 7.12475 17.5722 6.94249 17.5324L6.94248 17.5324C6.07524 17.3432 5.44182 17.536 4.91646 17.7676C4.77395 17.8304 4.65078 17.8888 4.53868 17.9419L4.53864 17.9419L4.53863 17.9419C4.22535 18.0904 3.99839 18.1979 3.67685 18.2476C3.61847 18.2566 3.57441 18.238 3.54995 18.2172C3.53808 18.207 3.53412 18.1992 3.53342 18.1976C3.53337 18.1975 3.53344 18.1988 3.53358 18.1973C3.54053 18.1188 3.5782 18.0055 3.68286 17.7907C3.69736 17.761 3.71424 17.7273 3.73272 17.6905C3.8205 17.5156 3.94414 17.2692 4.01867 17.0287C4.37963 15.8636 3.91088 14.9375 3.54377 14.2122L3.54376 14.2121C3.51806 14.1614 3.49287 14.1116 3.46849 14.0628C3.00682 13.1384 2.75 12.1112 2.75 11.0282ZM16.5 9.24994C13.0482 9.24994 10.25 12.0482 10.25 15.4999C10.25 18.9517 13.0482 21.7499 16.5 21.7499C17.2013 21.7499 17.8255 21.6495 18.4157 21.4384C18.653 21.3535 18.8258 21.2917 18.9508 21.2483C19.0132 21.2267 19.0595 21.211 19.0935 21.2001C19.1179 21.1923 19.1302 21.1888 19.1338 21.1877C19.1347 21.1875 19.135 21.1874 19.135 21.1874C19.3243 21.1433 19.4382 21.1721 19.6326 21.2645C19.6637 21.2793 19.7025 21.2995 19.7482 21.3233C19.9629 21.435 20.3282 21.625 20.7384 21.6934C21.5738 21.8326 22.317 21.1487 22.2477 20.3046C22.2234 20.0091 22.1131 19.755 22.0425 19.5988C22.0194 19.5478 21.9999 19.5054 21.9832 19.4691C21.9354 19.3654 21.9106 19.3116 21.8933 19.2515C21.8044 18.9421 21.8913 18.7334 22.1738 18.1237C22.5437 17.325 22.75 16.4356 22.75 15.4999C22.75 12.0482 19.9518 9.24994 16.5 9.24994ZM11.75 15.4999C11.75 12.8766 13.8766 10.7499 16.5 10.7499C19.1234 10.7499 21.25 12.8766 21.25 15.4999C21.25 16.2132 21.0931 16.8879 20.8127 17.4932C20.7969 17.5274 20.7802 17.5627 20.7631 17.5992C20.53 18.0941 20.2008 18.793 20.4517 19.6658C20.4936 19.8117 20.5583 19.9617 20.6107 20.0763L20.5551 20.048C20.4802 20.0097 20.3908 19.9641 20.2765 19.9097C19.9099 19.7355 19.4334 19.5763 18.7893 19.7278C18.656 19.7591 18.3918 19.8537 18.0097 19.9905L18.0095 19.9906L17.9104 20.026C17.5026 20.1719 17.052 20.2499 16.5 20.2499C13.8766 20.2499 11.75 18.1233 11.75 15.4999Z"
					      fill="current"/>
				</svg>
				<span className={'text-textColors-red'}>Архив</span>
			</div>


		</div>
	);
};

export default OrderModal;
